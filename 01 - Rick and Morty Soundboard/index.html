<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rick and Morty Soundboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-container">
        <h1>Rick & Morty Soundboard</h1>
        <div id="sound-keys">
        </div>
    </div>

    <audio data-key="a" src="./sounds/mr-meeseeks1.mp3"></audio>

    <script>
        const keyboardArray = "azertyuiopqsdfghjklmwxcvbn".split("");
        for (let i = 0; i < keyboardArray.length; i++) {
            document.getElementById('sound-keys').innerHTML += '<div class="key" data-key='+keyboardArray[i]+'>'+keyboardArray[i].toUpperCase()+'</div>';
            
        }
        
        window.addEventListener("keydown", function(e) {
            const audio = document.querySelector('audio[data-key='+e.key+']');
            const key = document.querySelector('.key[data-key='+e.key+']');
            key.classList.add("key-activated");
            if (!audio) return;
            audio.currentTime = 0; // set the audio's time to 0
            audio.play();
        });

        const key = document.querySelectorAll('.key')
        key.forEach(key => key.addEventListener('transitionend', function(e) {
            if (e.propertyName !== 'transform') return;
            this.classList.remove('key-activated');
        }));
    </script>
</body>
</html>